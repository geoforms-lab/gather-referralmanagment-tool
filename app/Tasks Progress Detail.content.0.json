{
    "type": "WizardScriptElement",
    "config": {
        "script": "\nvar perc=Math.round(Math.random()*100);\nvar div=new Element('div');\n\n\nvar render=function(perc){\n    \n    perc=Math.round(perc);\n    \n    var className=\"\";\n    if(perc<50){\n        className=\"less-than-50\";\n    }\n    if(perc<10){\n        className=\"less-than-10\";\n    }\n\n    var deg1=90;\n    var deg2=(perc\/100*360);\n    \n    var color2='color-front';\n    var color1='color-back';\n    \n    if(perc<50){\n        deg1=(perc\/100*360+90)\n        deg2=0;\n        \n        color2='color-back';\n        color1='color-front';\n    }\n    \n    var style=function(d){\n        return '-webkit-transform: rotate('+d+'deg); transform: rotate('+d+'deg);'\n    }\n\n   div.innerHTML= '<div class=\"card percent-donut '+className+'\"><div class=\"donut-chart chart1 '+color1+'\"><div class=\"slice one '+color2+'\" style=\"'+style(deg1)+'\"><\/div>'+\n'<div class=\"slice two '+color2+'\" style=\"'+style(deg2)+'\"><\/div><div class=\"chart-center\"><span>'+perc+'%<\/span><\/div><\/div><\/div>'\n\n\n}\n\n\n\nvar frameValues=[];\nvar init=function(){\n    frameValues=[];\n    for(var i=0;i<=perc\/4;i++){\n        frameValues.push((i*4));\n    }\n    if(frameValues[frameValues.length-1]<perc){\n         frameValues.push(perc);\n    }\n}\ninit();\n\nvar animate=function(){\n    var value=frameValues.shift();\n    render(value);\n    if(frameValues.length){\n        setTimeout(function(){\n    \n            animate(); \n    \n        }, 50);\n    }\n}\n\nProjectTeam.CurrentTeam().runOnceOnLoad(function(team){\n    var total=0;\n    var completed=0;\n    team.getTasks().forEach(function(task){\n        total++;\n        if(task.isComplete()){\n            completed++;\n        }\n    })\n    perc=completed*100\/total;\n    init();\n    animate();\n})\n\n\/\/setTimeout(animate, 500);\n\n\nreturn div;",
        "identifier": "customScriptElement"
    }
}