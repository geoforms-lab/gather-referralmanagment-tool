{
    "type": "WizardScriptElement",
    "config": {
        "name": "My Custom Script",
        "script": "\n\n\nvar label=\"Project Team\";\nvar subText=\"working on this project\";\n\nif(item.getType()===\"Tasks.task\"){\n    label=\"Assigned Users\";\n    subText=\"assigned to this task\";\n    \n}\n\nif(item.getId()<=0){\n    return  new ElementModule(\"label\",{html:\"After you save this task you can assign it to a team member\", \"class\":\"project-type-missing-tasks-hint\"});\n}\n\n\nreturn new ModuleArray([\n    new ElementModule(\"label\",{html:label}),\n    new ElementModule(\"div\",{\n        html:item.getUsers().length+' user'+(item.getUsers().length==1?' is':'s are')+' '+subText\n    }),\n   new UIListViewModule(application, item ,{\n                getItemList:function(project, callback){\n                   callback(item.getUsers());\n                },\n                formatItemList:function(l){return l;},\n                detailViewOptions:{\n                    namedView:\"singleUserListItemDetail\",\n                    filterModules:function(list, child){ \n                        var module= list.content[0];\n                        module.addEvent(\"load:once\",function(){\n                            setTimeout(function(){\n                          new UIPopover(module.getElement(),\n                              {\n                                  title:child.getName(),\n                                  anchor:UIPopover.AnchorAuto()\n                              }); \n                            }, 200);\n\n                        });\n                        \n                        \n                        return {\"content\":[module]}; \/*only return the icon*\/ }\n                  },\n\t            \tclassName: \"icon-list-view \",\n                    emptyNamedView:\"emptyListView\"\n\t            })\n],{\"class\":\"inline-list-item users-list-item-icon\"});",
        "description": "Info about my custom script"
    }
}